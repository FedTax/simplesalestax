var SST_Add_Certificate_Modal={open:function(r){var t,e=r.address||{};SST_Add_Certificate_Modal.isValidAddress(e)?(jQuery(document.body).SSTBackboneModal({template:"sst-modal-add-certificate",variable:{CertificateID:"new-"+(new Date).getTime()},callback:SST_Add_Certificate_Modal.validateForm}),r.onAddCertificate&&(t=function(e,a,i){"sst-modal-add-certificate"===a&&(r.onAddCertificate(i),jQuery(document.body).off("wc_backbone_modal_response",t))},jQuery(document.body).on("wc_backbone_modal_response",t)),jQuery("#PurchaserBusinessType").on("change",function(){var e=jQuery("#business-type-other_field");"Other"==jQuery(this).val()?e.addClass("validate-required").show():e.removeClass("validate-required").hide()}),jQuery("#TaxType").on("change",function(){var e=jQuery("#issuing-state_field");"StateIssued"==jQuery(this).val()?e.addClass("validate-required").show():e.removeClass("validate-required").hide()}),jQuery("#PurchaserExemptionReason").on("change",function(){var e=jQuery("#exempt-other-reason_field"),a=e.find("label"),i=jQuery(this).val();""!==i?(e.addClass("validate-required").show(),a.text({FederalGovernmentDepartment:"Dept. Name",StateOrLocalGovernmentName:"Govt. Name",TribalGovernmentName:"Tribe Name",ForeignDiplomat:"Diplomat ID",CharitableOrganization:"Organization ID",ReligiousOrEducationalOrganization:"Organization ID",Resale:"Resale ID",AgriculturalProduction:"Agricultural Prod. ID",IndustrialProductionOrManufacturing:"Production ID",DirectPayPermit:"Permit ID",DirectMail:"Direct Mail ID",Other:"Please explain"}[i])):e.removeClass("validate-required").hide()}),jQuery(".sst-input").on("input",function(e){jQuery(this).closest(".form-row").removeClass("woocommerce-invalid woocommerce-invalid-required-field woocommerce-invalid-email woocommerce-validated")})):alert(SST_Add_Certificate_Data.strings.please_add_address)},isValidAddress:function(a){return["first_name","last_name","address_1","city","state","postcode"].every(function(e){return e in a&&!!a[e]})},validateForm:function(e){e=jQuery(e.target).closest(".wc-backbone-modal").find("form");return e.find(".validate-required").removeClass("woocommerce-invalid-required-field woocommerce-invalid"),e.find(".validate-required").each(function(){""===jQuery(this).find("input, select, textarea").val()&&jQuery(this).addClass("woocommerce-invalid-required-field woocommerce-invalid")}),0===e.find(".woocommerce-invalid").length}};